{% extends 'base.html' %}

{% block title %} Corpus Datasheet {% endblock %}

{% block content %}

<div class="datasheet-container">

    <h1>Corpus Datasheet</h1>

    <h3>Descrizione e Dimensione del Corpus</h3>
    <p>Il corpus comprende:</p>
    <ul>
        <li>l'intera collezione di testi delle serie "Harry Potter" di J.K. Rowling;</li>
        <li>"Il Signore degli Anelli", "Lo Hobbit", "Il Silmarillion" di J.R.R. Tolkien;</li>
        <li>"Game of Thrones" di George R.R. Martin;</li>
        <li>"The Witcher" di Andrzej Sapkowski;</li>
        <li>"Season of Storms", "The Lady of the Lake", "The Last Wish";</li>
        <li>Tutti i libri ufficiali di Dungeons & Dragons di Wizards of the Coast;</li>
        <li>Varie opere del genere fantasy per un totale di 75 libri da un peso totale di 49,1 MB.</li>
    </ul>

    <h3>Processamento del Testo</h3>
    <p>I testi sono forniti in formato di testo semplice in formato .raw, suddivisi in file separati o sezioni corrispondenti a ciascun libro o capitolo e convertiti in estensione .raw per una lettura più agevole.</p>

    <h3>Licenza e Restrizioni</h3>
    <p>I testi sono disponibili su Kaggle ai seguenti link:</p>
    <ul>
        <li><a href="https://www.kaggle.com/datasets/prashantkarwasra/books-dataset-text-generation" target="_blank">Books_Dataset_text_generation</a></li>
        <li><a href="https://www.kaggle.com/datasets/meshcheriakovilya/fantasy-books" target="_blank">fantasy books</a></li>
        <li><a href="https://archive.org/details/FantasyFictionebookcollection" target="_blank">fiction books</a></li>
        <li>I libri di D&D possono essere trovati al link: <a href="https://5e.tools/adventures.html" target="_blank">D&D Books</a>.</li>
    </ul>
    <p>Si prega di fare riferimento alla licenza indicata su Kaggle per le restrizioni d'uso. Per evitare problemi di copyright, il tool non verrà utilizzato in alcun modo per lucrare ma è esclusivamente a scopo didattico.</p>

    <h3>Struttura del Corpus</h3>
    <p>I testi sono organizzati in file separati per ciascun libro o capitolo.</p>

    <h3>Annotazioni Manuali</h3>
    <p>Non sono state applicate annotazioni manuali al corpus.</p>

    <h3>Risorse Aggiuntive</h3>
    <p>Il corpus non include risorse aggiuntive come dizionari o tassonomie.</p>

    <h3>Riferimenti Bibliografici</h3>
    <p>Per ulteriori informazioni sulle opere originali, fare riferimento ai libri degli autori menzionati.</p>


    <h3>Zipf's Law check</h3>

    <!-- Crea un canvas per il grafico -->
    <div id="myChartContainer">
        <canvas id="myChart"></canvas>
    </div>

</div>


<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    var word_names = {{ plot_data.word_names | tojson }}; // Aggiungi i nomi delle parole
    var log_ranks = {{ plot_data.log_ranks | tojson }};
    var log_frequencies = {{ plot_data.log_frequencies | tojson }};

    var ctx = document.getElementById('myChart').getContext('2d');
    var myChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: log_ranks,
            datasets: [{
                label: 'Grafico Rank-Frequenza delle Parole nel Corpus',
                data: log_frequencies,
                backgroundColor: 'rgba(255, 99, 132, 0.2)',
                borderColor: 'rgba(255, 99, 132, 1)',
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                x: {
                    type: 'linear',
                    ticks: {
                        stepSize: 1
                    },
                    grid: {
                        display: true
                    },
                    title: {
                        display: true,
                        text: 'Rank (log)'
                    }
                },
                y: {
                    type: 'linear',
                    ticks: {
                        stepSize: 1
                    },
                    grid: {
                        display: true
                    },
                    title: {
                        display: true,
                        text: 'Frequenza (log)'
                    }
                }
            },
            plugins: {
                tooltip: {
                    callbacks: {
                        label: function(context) {
                            var index = context.dataIndex;
                            return word_names[index] + ' : ' + context.parsed.y;
                        }
                    }
                }
            }
        }
    });
</script>


{% endblock %}
